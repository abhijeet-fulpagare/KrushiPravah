{% extends "base.html" %}

{% block title %}Krushi Pravah - Maharashtra Vegetable Price Analyzer{% endblock %}

{% block extra_css %}
<style>
    .hero-section {
        background: linear-gradient(135deg, rgba(198, 255, 221, 0.8), rgba(251, 215, 134, 0.8));
        padding: 60px 0;
        border-radius: 0 0 20px 20px;
        margin-bottom: 40px;
        position: relative;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 200px;
        height: 200px;
        background: url('/static/images/tree1.png') no-repeat;
        background-size: contain;
        opacity: 0.2;
    }

    .hero-section::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 150px;
        height: 150px;
        background: url('/static/images/tree2.png') no-repeat;
        background-size: contain;
        opacity: 0.2;
    }

    .hero-title {
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 10px;
        font-weight: 700;
    }

    .hero-subtitle {
        font-size: 1.2rem;
        color: #34495e;
        margin-bottom: 30px;
    }

    .market-section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
    }

    .section-title {
        color: #2c3e50;
        font-size: 1.8rem;
        margin-bottom: 25px;
        font-weight: 600;
    }

    .form-select {
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 12px;
        font-size: 1.1rem;
    }

    .form-select:focus {
        border-color: #28a745;
        box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    }

    .form-label {
        font-weight: 600;
        color: #34495e;
        margin-bottom: 10px;
    }

    .price-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        margin-top: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .price-card .location-icon {
        width: 50px;
        height: 50px;
        margin-bottom: 15px;
    }

    .vegetable-name {
        font-size: 1.5rem;
        color: #2c3e50;
        margin-bottom: 10px;
        font-weight: 600;
    }

    .price-value {
        font-size: 2rem;
        color: #28a745;
        font-weight: 700;
        margin-bottom: 10px;
    }

    .price-change {
        color: #e74c3c;
        font-size: 0.9rem;
    }

    .price-change.up {
        color: #e74c3c;
    }

    .price-change.down {
        color: #27ae60;
    }

    .top-vegetables {
        margin-top: 40px;
    }

    .veg-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        transition: transform 0.2s;
    }

    .veg-card:hover {
        transform: translateY(-5px);
    }

    .veg-icon {
        width: 40px;
        height: 40px;
        margin-bottom: 10px;
    }

    .veg-name {
        font-size: 1.1rem;
        color: #2c3e50;
        margin-bottom: 5px;
        font-weight: 500;
    }

    .veg-price {
        font-size: 1.3rem;
        color: #28a745;
        font-weight: 600;
    }

    .veg-change {
        font-size: 0.9rem;
        color: #e74c3c;
    }

    @media (max-width: 768px) {
        .hero-title {
            font-size: 2rem;
        }
        
        .hero-subtitle {
            font-size: 1rem;
        }

        .market-section {
            padding: 20px;
        }

        .section-title {
            font-size: 1.5rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2 text-center">
                <h1 class="hero-title">Krushi Pravah</h1>
                <p class="hero-subtitle">Maharashtra Vegetable Price Analyzer</p>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="market-section">
        <h2 class="section-title">Today's Market Prices</h2>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="market" class="form-label">Select Market</label>
                <select class="form-select" id="market">
                    <option value="pune">Pune Market</option>
                </select>
            </div>
            <div class="col-md-6 mb-3">
                <label for="vegetable" class="form-label">Select Vegetable</label>
                <select class="form-select" id="vegetable">
                    <option value="">Choose a vegetable...</option>
                    {% for vegetable in vegetables %}
                    <option value="{{ vegetable }}">{{ vegetable }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="price-card">
            <img src="/static/images/location-icon.png" alt="Location" class="location-icon">
            <div class="vegetable-name" id="selectedVegetable">Tomato</div>
            <div class="price-value">₹ <span id="currentPrice">38.00</span>/kg</div>
            <div class="price-change">▲ ₹5/kg from last week</div>
        </div>
    </div>

    <div class="top-vegetables">
        <h2 class="section-title">Today's Top Vegetables</h2>
        <div class="row">
            <div class="col-md-3 col-6">
                <div class="veg-card">
                    <img src="/static/images/tomato-icon.png" alt="Tomato" class="veg-icon">
                    <div class="veg-name">Tomato</div>
                    <div class="veg-price">₹ 38.00/kg</div>
                    <div class="veg-change">▲ ₹5</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="veg-card">
                    <img src="/static/images/onion-icon.png" alt="Onion" class="veg-icon">
                    <div class="veg-name">Onion</div>
                    <div class="veg-price">₹ 28.50/kg</div>
                    <div class="veg-change down">▼ ₹2</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="veg-card">
                    <img src="/static/images/potato-icon.png" alt="Potato" class="veg-icon">
                    <div class="veg-name">Potato</div>
                    <div class="veg-price">₹ 23.75/kg</div>
                    <div class="veg-change">▲ ₹1.50</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="veg-card">
                    <img src="/static/images/eggplant-icon.png" alt="Eggplant" class="veg-icon">
                    <div class="veg-name">Eggplant</div>
                    <div class="veg-price">₹ 33.25/kg</div>
                    <div class="veg-change down">▼ ₹3</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('vegetable').addEventListener('change', function() {
    const selectedVeg = this.options[this.selectedIndex].text;
    document.getElementById('selectedVegetable').textContent = selectedVeg;
});
</script>
{% endblock %} 